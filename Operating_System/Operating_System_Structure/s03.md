---
title : Operating System Structure-2.3
description : chapter 2.3  of the <Operating System Concepts>
tags : [os, notes, ]
---

# Operating System Structure

---

## 2.3 - System Call

> System calls are the programming interface between user programs and the OS kernel.

### Why System Call

A system call is **a controlled entry point into the OS**, that provis controlled access. 
Applications need to open files, fork processes, allocate memory... 
But they must not modify hardware directly, change kernel memory, execute privileged instructions.

### How system calls  work?

1. Program issues API call, for example, ```read(fd, buf, n);```.
2. API places parameters in registers or stack.
3. Executes special instrucion (trap/syscall).
4. CPU switches to **kernel mode**.
5. OS system-call handler runs.
6. Kernel performs operation.
7. CPU switches back to **user mode**.
8. Control returns to the program.

> User mode -> system call -> trap -> kernel mode -> operations -> user mode.

### Types of system calls

- Process control. ```fork(), exit()```...
- File management. ```open(), read()```...
- Divice management. ```ioctl(), read()```...
- Information maintenance. ```getpid(), uname()```...
- Communication (IPC). ```pipe(), socket()```...
- Protection. ```chmod(), umask()```...

The system call parameters are often passed with registers, memoryblock/table, or stack.

---

### Extra Points

#### System call != Context switch

> System call is to enter kernel mode and get access to some operations.
> Context switch means OS switched processes. They may happen together, but not the same.

#### System calls are expensive

> System calls require trap, handling, and mode switch, thus much slower than normal function calls.

---
