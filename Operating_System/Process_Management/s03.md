---
title : Operating System Structure-3.3
description : chapter 3.3  of the <Operating System Concepts>
tags : [os, notes, ]
---

# Process Management

---

## 3.3 - Operations on Processes

> This section explains how processes are created, executed, terminated.

### Process Creation

The OS assigns new PID, memory space, PCB, and inherits scheduling attributes and some resources.

> A running process can create new processes. The creator is the parent, and the new one is the child.

Execution Models : When a parent creates a child, two different execution models are possible : 

- Parent continues concurrently with child. Used in UNIX, Linux, Windows.
- Parent waits for child to finish.

Address Space Models : After child process is created, there's two scenarios : 

- Child duplicates parent's image (code, data, stack). UNIX ```fork()``` works this way with CoW.
- Child loads a new program. Entire memory image replaced. UNIX ```exec()```.

Resource Sharing Models : Parent and child may share or duplicate resources.

- Memory is not shared in traditional UNIX. But threads share memory (chapter 4).
- Open file descriptors are inherited by the children.
- Environment variables are copied to children.

### Process Creation UNIX vs Windows

- UNIX ```fork()``` creates a identical child process executing concurrently with parent. The parent has PID > 0, and child has PID = 0. 
- UNIX ```exec()``` loads a new program into the current process, replacing the entire memory. The PID stays the same.

Common pattern : 

``` C
pid = fork();
if(pid == 0){
  exec("/bin/ls", arg...);
}
```

- Windows ```CreateProcess()``` creates a new process and loads program into memory in a single function.

### Process Termination

A process may terminate normally (exit), abnormally (error), or killed by OS and user.

- Zombie process : When a child exits but the parent has not yet called ```wait()```, the child becomes a zombie. It has terminated but PCB remains. It can be removed once parent collects status.
- Orphan process : If parent terminates before child finishes, the child becomes a orphan. It will be adopted by init/systemd, which waits for it.

---

### Extra Points

#### Zombie processes are dead

> Zombie processes do not consume CPU or memory, only a small PCB entry is there.

---
